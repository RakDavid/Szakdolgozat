<div class="home-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">
        TalÃ¡lj sportpartnereket<br/>
        <span class="gradient-text">a kÃ¶zeledben</span>
      </h1>
      <p class="hero-description">
        Csatlakozz helyi sportrendezvÃ©nyekhez vagy szervezz sajÃ¡tot. 
        Ismerj meg Ãºj embereket Ã©s sportolj egyÃ¼tt!
      </p>
      
      <div class="hero-buttons" *ngIf="!isAuthenticated">
        <a routerLink="/register" class="btn btn-primary btn-large">
          Kezdj bele most
        </a>
        <a routerLink="/login" class="btn btn-outline btn-large">
          BejelentkezÃ©s
        </a>
      </div>

      <div class="hero-buttons" *ngIf="isAuthenticated">
        <button (click)="navigateToEvents()" class="btn btn-primary btn-large">
          EsemÃ©nyek bÃ¶ngÃ©szÃ©se
        </button>
        <button (click)="navigateToCreateEvent()" class="btn btn-outline btn-large">
          EsemÃ©ny lÃ©trehozÃ¡sa
        </button>
      </div>
    </div>

    <div class="hero-image">
      <div class="hero-illustration">
        <span class="illustration-emoji">ğŸƒâ€â™‚ï¸âš½ğŸ€ğŸ¾</span>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <div class="section-header">
      <h2 class="section-title">MiÃ©rt vÃ¡lassz minket?</h2>
      <p class="section-description">
        Modern funkciÃ³k a sportolÃ¡s egyszerÅ±bbÃ© tÃ©telÃ©hez
      </p>
    </div>

    <div class="features-grid">
      <div class="feature-card" *ngFor="let feature of features">
        <div class="feature-icon">{{ feature.icon }}</div>
        <h3 class="feature-title">{{ feature.title }}</h3>
        <p class="feature-description">{{ feature.description }}</p>
      </div>
    </div>
  </section>

  <!-- Events Section -->
  <section class="events-section" *ngIf="isAuthenticated && recommendedEvents.length > 0">
    <div class="section-header">
      <h2 class="section-title">Neked ajÃ¡nljuk</h2>
      <p class="section-description">
        SzemÃ©lyre szabott javaslatok a preferenciÃ¡id alapjÃ¡n
      </p>
    </div>

    <div class="events-grid" *ngIf="!loading">
      <div class="event-card" *ngFor="let event of recommendedEvents" [routerLink]="['/events', event.id]">
        <div class="event-image-container">
          <div
            *ngIf="event.primary_image"
            class="event-image"
            [style.background-image]="'url(' + event.primary_image + ')'"
          ></div>
          <div *ngIf="!event.primary_image" class="event-map">
            <app-map
              [latitude]="event.latitude"
              [longitude]="event.longitude"
              [zoom]="14"
              [height]="'180px'"
              [markers]="[{lat: event.latitude, lng: event.longitude, popup: event.location_name}]"
            ></app-map>
          </div>
          <div class="event-badge" [class.free]="event.is_free">
            {{ event.is_free ? 'Ingyenes' : (event.price + ' Ft') }}
          </div>
        </div>
        <div class="event-content">
          <div class="event-sport-type">
            {{ event.sport_type_detail?.name }}
          </div>
          <h3 class="event-title">{{ event.title }}</h3>
          <div class="event-details">
            <div class="event-detail">
              <span class="detail-icon">ğŸ“…</span>
              {{ getEventDate(event.start_date_time) }}
            </div>
            <div class="event-detail">
              <span class="detail-icon">ğŸ•’</span>
              {{ getEventTime(event.start_date_time) }}
            </div>
            <div class="event-detail">
              <span class="detail-icon">ğŸ“</span>
              {{ event.location_name }}
            </div>
          </div>
          <div class="event-participants">
            <div class="recommendation-info" *ngIf="event.recommendation_score">
              <span class="score-badge">
                â­ {{ event.recommendation_score }} pont
              </span>
              <span *ngIf="event.distance" class="distance-badge">
                ğŸ“ {{ event.distance }} km
              </span>
            </div>
            <span class="participants-count">
              {{ event.participants_count }} / {{ event.max_participants }} rÃ©sztvevÅ‘
            </span>
            <span class="participants-status" [class.full]="event.is_full">
              {{ event.is_full ? 'Betelt' : event.available_spots + ' hely' }}
            </span>
          </div>
        </div>
      </div>
    </div>

    <div class="loading-spinner" *ngIf="loading">
      <div class="spinner"></div>
      <p>EsemÃ©nyek betÃ¶ltÃ©se...</p>
    </div>

    <div class="section-footer">
      <button (click)="navigateToEvents()" class="btn btn-outline">
        Ã–sszes esemÃ©ny megtekintÃ©se
      </button>
    </div>
  </section>

  <!-- Upcoming Events (for non-authenticated users) -->
  <section class="events-section" *ngIf="!isAuthenticated && upcomingEvents.length > 0">
    <div class="section-header">
      <h2 class="section-title">KÃ¶zelgÅ‘ esemÃ©nyek</h2>
      <p class="section-description">
        NÃ©zz bele, milyen sportrendezvÃ©nyek vÃ¡rnak rÃ¡d
      </p>
    </div>

    <div class="events-grid" *ngIf="!loading">
      <div class="event-card" *ngFor="let event of upcomingEvents">
        <div class="event-image-container">
          <div
            *ngIf="event.primary_image"
            class="event-image"
            [style.background-image]="'url(' + event.primary_image + ')'"
          ></div>
          <div *ngIf="!event.primary_image" class="event-map">
            <app-map
              [latitude]="event.latitude"
              [longitude]="event.longitude"
              [zoom]="14"
              [height]="'180px'"
              [markers]="[{lat: event.latitude, lng: event.longitude, popup: event.location_name}]"
            ></app-map>
          </div>
          <div class="event-badge" [class.free]="event.is_free">
            {{ event.is_free ? 'Ingyenes' : (event.price + ' Ft') }}
          </div>
        </div>
        <div class="event-content">
          <div class="event-sport-type">
            {{ event.sport_type_detail?.name }}
          </div>
          <h3 class="event-title">{{ event.title }}</h3>
          <div class="event-details">
            <div class="event-detail">
              <span class="detail-icon">ğŸ“…</span>
              {{ getEventDate(event.start_date_time) }}
            </div>
            <div class="event-detail">
              <span class="detail-icon">ğŸ•’</span>
              {{ getEventTime(event.start_date_time) }}
            </div>
            <div class="event-detail">
              <span class="detail-icon">ğŸ“</span>
              {{ event.location_name }}
            </div>
          </div>
        </div>
        <div class="event-login-overlay">
          <p>Jelentkezz be a rÃ©szletekÃ©rt</p>
          <a routerLink="/login" class="btn btn-primary btn-small">BejelentkezÃ©s</a>
        </div>
      </div>
    </div>

    <div class="loading-spinner" *ngIf="loading">
      <div class="spinner"></div>
      <p>EsemÃ©nyek betÃ¶ltÃ©se...</p>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section" *ngIf="!isAuthenticated">
    <div class="cta-content">
      <h2 class="cta-title">KÃ©szen Ã¡llsz a kezdÃ©sre?</h2>
      <p class="cta-description">
        Csatlakozz hozzÃ¡nk most Ã©s talÃ¡ld meg a tÃ¶kÃ©letes sportpartnereket!
      </p>
      <a routerLink="/register" class="btn btn-primary btn-large">
        RegisztrÃ¡lj ingyen
      </a>
    </div>
  </section>
</div>
